---
import '~/styles/global.css'
---

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CYO Design</title>
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
	<style>
	  .font-playfair { font-family: 'Playfair Display', serif; }
	  html { scroll-behavior: smooth; }
	</style>
  </head>

<body class="bg-white text-gray-900">
	{/* HERO SECTION WITH VIDEO BG */}
	<section class="relative h-[100vh] flex flex-col overflow-hidden">
		<video class="absolute inset-0 w-full h-full object-cover" autoplay loop muted playsinline>
			<source
				src="/hero.mp4"
				type="video/mp4"
			/>
		</video>
		{/* Overlay for readability */}
		<!-- <div class="absolute inset-0 bg-emerald-900/40"></div> -->

		{/* Navigation/Header */}
		<header class="flex justify-between items-center px-10 pt-8 relative z-20">
			<a href="/" class="flex items-center space-x-3">
				<img src="/logo.jpeg" alt="CYO Design Logo" class="h-12 w-12 rounded-full shadow" />
				<span class="text-3xl font-playfair text-white tracking-wide">CYO design</span>
			</a>
			<nav class="flex items-center space-x-8">
				<a href="#gallery" class="text-white">Gallery</a>
				<a href="/about" class="text-white">About Us</a>
			</nav>
		</header>

		{/* Hero Content + AI Assistant */}
		<div class="flex-1 flex flex-col justify-center items-center relative z-20 px-6">
			<h2 class="text-2xl md:text-5xl font-playfair text-white mb-4 text-center drop-shadow-lg">
				Bespoke jewelry, crafted for your story
			</h2>
			<p class="text-white text-sm md:text-lg mb-8 text-center max-w-xl drop-shadow">
				Experience the CYO Live Atelier: luxury, artistry, and personal guidance—digitally and personally.
			</p>
			{/* AI Assistant Widget */}
			<div class="w-full max-w-md bg-white/90 rounded-xl shadow-lg p-6 mb-8 flex flex-col items-center">
				<div class="flex items-center mb-3">
					<div class="w-8 h-8 bg-primary rounded-full flex items-center text-center justify-center text-white font-bold mr-3"><span>AI</span></div>
					<span class="font-semibold text-gray-800">CYO Atelier Assistant</span>
				</div>
				<div class="w-full">
					<input type="text" placeholder="Describe your dream jewelry..." class="w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring" />
					<button class="mt-3 w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary text-white rounded">
						<svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 19v-6m0 0V5m0 8l-4-4m4 4l4-4" /></svg>
						Start Conversation
					</button>
					<button class="mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded transition">
						<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-13v4l3 3-1.5 1.5L10 11V5h1z"/></svg>
						Voice Input
					</button>
				</div>
			</div>
			{/* Scroll Down Indicator */}
			<a href="#gallery" class="animate-bounce mt-4 flex flex-col items-center text-white">
				<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" /></svg>
				<span class="text-sm mt-1">Scroll to Gallery</span>
			</a>
		</div>
	</section>

	{/* GDPR LEAD COLLECTION - moved up */}
	<section class="py-10 px-6 bg-gray-50 border-t border-b border-gray-200 w-full z-30 relative">
		<div class="max-w-lg mx-auto text-center">
			<h2 class="font-playfair text-2xl mb-4">Get in Touch</h2>
			<p class="mb-6 text-gray-700">
				After you submit your email, our team will reach out to you to learn about your preferences for jewelry design. We respect your privacy and comply with GDPR.
			</p>
			<form id="subscribe-form" method="POST" action="/api/subscribe" class="space-y-4">
				<input
					type="email"
					name="email"
					required
					placeholder="Your email address"
					class="w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring"
				/>
				<div class="flex items-center justify-center space-x-2 text-left">
					<input type="checkbox" id="gdpr-consent" name="gdpr-consent" required class="accent-emerald-700" />
					<label for="gdpr-consent" class="text-sm text-gray-600">
						I agree to receive emails and accept the <a href="/privacy" class="underline">privacy policy</a>.
					</label>
				</div>
				<button
					id="subscribe-btn"
					type="submit"
					class="w-full px-4 py-2 bg-primary text-white rounded transition flex items-center justify-center gap-2"
				>
					<span id="subscribe-btn-text">Sign Up</span>
					<svg id="subscribe-spinner" class="w-5 h-5 animate-spin hidden" fill="none" viewBox="0 0 24 24">
						<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
						<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
					</svg>
				</button>
				<div id="subscribe-feedback" class="text-sm mt-2"></div>
			</form>
		</div>
	</section>

	{/* GALLERY / INSPIRATIONS */}
	<section id="gallery" class="w-full flex flex-col md:flex-row pt-16">
		<div class="absolute left-0 right-0 -top-10 flex justify-center z-10">
			<span class="bg-white/90 px-6 py-2 rounded-full shadow font-playfair text-lg tracking-wide border border-gray-200">
				Gallery / Inspirations
			</span>
		</div>
		<div class="md:w-1/2 bg-white flex flex-col items-center justify-center py-14">
			<img
			  src="https://www.vancleefarpels.com/content/dam/rcq/vca/Tl/Hq/DE/21/Tc/m9/sy/EU/EJ/5H/aA/TlHqDE21Tcm9syEUEJ5HaA.png.transform.vca-w350-1x.png"
			  alt="Perlée signature bracelet"
			  class="h-52 mx-auto mb-6 object-contain"
			/>
			<h3 class="font-playfair text-xl mb-2 text-center">Perlée signature bracelet, medium model</h3>
			<span class="text-gray-500 mb-6 text-center">Yellow Gold</span>
			<div class="flex space-x-2 mb-8">
			  <div class="w-2 h-2 rounded-full bg-gray-400"></div>
			  <div class="w-2 h-2 rounded-full bg-gray-900"></div>
			  <div class="w-2 h-2 rounded-full bg-gray-400"></div>
			</div>
			<a href="#" class="uppercase tracking-widest text-gray-500 border-b border-gray-300 text-xs">More creations</a>
		  </div>
		  <div class="md:w-1/2 bg-[#148370] flex items-center justify-center">
			<img
			  src="/woman-frontpose-1.jpg" 
			  alt="Model with Perlée"
			  class="object-cover w-full h-full md:h-auto md:w-auto"
			/>
		  </div>
		</div>
	</section>

	{/* THE GOLDEN BEADS DANCE */}
	<section class="relative w-full mt-4 sm:mt-0">
		<img
			src="/watch-and-stem.jpg"
			alt=""
			class="w-full h-auto object-cover"
			style={{ maxHeight: '80vh' }}
		/>
		<div class="absolute inset-0 flex flex-col items-center justify-center text-center px-6">
			<h2 class="font-playfair text-xl md:text-4xl mb-6 text-white drop-shadow-lg">
			The golden beads come together in a graceful dance
			</h2>
			<p class="text-white text-xs max-w-2xl mb-4 drop-shadow md:px-8 px-4">
			CYO Design showcases the Perlée collection’s joyful spirit through vibrant movement and refined style.
			</p>
			<a
			href="#"
			class="uppercase tracking-widest text-gray-100 border-b border-white pb-1 text-xs drop-shadow"
			>
			Discover the graceful dance
			</a>
		</div>
	</section>

	{/* ENCHANTING GIFTS */}
	<section class="py-12 max-w-5xl mx-auto text-center">
	  <h2 class="font-playfair text-4xl mb-8">Enchanting gifts</h2>
	  <img
		class="mx-auto mb-6 w-full object-cover max-h-96 rounded"
		src="/jwellery-on-branch.jpg"
		alt="Gifts Jewelry"
	  />
	  <p class="text-gray-700 mb-8 max-w-2xl mx-auto">
		Thanks to the savoir-faire, creativity and excellence, CYO Design accompanies the happiest moments
		of life
	  </p>
	  <a href="#" class="uppercase text-gray-500 tracking-widest border-b border-gray-300 pb-1 text-sm"
		>Enter the timeless universe</a
	  >
	</section>

	{/* FOOTER */}
	<footer class="bg-primary-dark text-gray-100 py-8 mt-16">
		<div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center px-6">
			<div class="flex items-center space-x-4 mb-4 md:mb-0">
				<a href="/" class="font-playfair text-xl text-white">CYO Design</a>
				<span class="text-gray-500 relative top-1">© {new Date().getFullYear()}</span>
			</div>
			<div class="flex items-center space-x-6 mb-4 md:mb-0">
				<a href="/impressum" class="text-gray-300">Impressum</a>
				<a href="/privacy" class="text-gray-300">Privacy</a>
				<a href="/about" class="text-gray-300">About Us</a>
			</div>
			<div class="flex items-center space-x-4">
				<a href="https://instagram.com/" target="_blank" rel="noopener" aria-label="Instagram">
					<svg class="w-6 h-6 text-gray-300" fill="currentColor" viewBox="0 0 24 24"><path d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5zm5.25.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></svg>
				</a>
				{/* Add more social icons as needed */}
			</div>
		</div>
	</footer>
</body>
<script type="module">
document.addEventListener('DOMContentLoaded', () => {
	const form = document.getElementById('subscribe-form');
	const feedback = document.getElementById('subscribe-feedback');
	const btn = document.getElementById('subscribe-btn');
	const btnText = document.getElementById('subscribe-btn-text');
	const spinner = document.getElementById('subscribe-spinner');
	if (form) {
		form.addEventListener('submit', async (e) => {
			e.preventDefault();
			feedback.textContent = '';
			btn.disabled = true;
			btn.classList.add('opacity-60', 'cursor-not-allowed');
			btnText.textContent = 'Submitting...';
			spinner.classList.remove('hidden');
			const formData = new FormData(form);
			const email = formData.get('email');
			const consent = formData.get('gdpr-consent');
			if (!email || !consent) {
				btn.disabled = false;
				btn.classList.remove('opacity-60', 'cursor-not-allowed');
				btnText.textContent = 'Sign Up';
				spinner.classList.add('hidden');
				return;
			}
			try {
				const res = await fetch('/api/subscribe', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ email })
				});
				if (res.ok) {
					feedback.textContent = 'Thank you for signing up!';
					feedback.className = 'text-green-600 mt-2';
					form.reset();
				} else {
					feedback.textContent = 'There was an error. Please try again.';
					feedback.className = 'text-red-600 mt-2';
				}
			} catch {
				feedback.textContent = 'There was an error. Please try again.';
				feedback.className = 'text-red-600 mt-2';
			}
			btn.disabled = false;
			btn.classList.remove('opacity-60', 'cursor-not-allowed');
			btnText.textContent = 'Sign Up';
			spinner.classList.add('hidden');
		});
	}
});
</script>